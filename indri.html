<!DOCTYPE html>
<html>

<head>
	<script type="text/javascript" src="js/3rdparty/jquery-1.10.2.js"></script>
	<link href="css/reset.css" rel="stylesheet" type="text/css">
    <link href="css/indri.css" rel="stylesheet" type="text/css">
</head>

<body>
	<!-- Marks the top-most DOM element for the javascript -->
	<div id="browserui">

		<header id="header-wrapper" class="ind-wrapper">
			<div id="title-control">File Dialog</div>
			<div class="ind-panel" id="control-panel">
				<div class="ind-cell" id="location-controls" >
				<button id="parent-control" class="btn">Parent</button>
				<button id="refresh-control" class="btn">Refresh</button>
				<div id="location-display">Location</div>
			</div>
			<div class="ind-cell ind-control-panel-right" id="view-controls"></div>
			</div>
		</header><!-- End Header -->

		<section id="section-wrapper" class="ind-wrapper">
			<div class="ind-panel" id="contents-panel">
				<div class="ind-cell" id="shortcuts-controls"></div>
				<div class="ind-cell" id="contents-display"></div>
				<div class="ind-cell" id="preview-panel"></div>  
			</div>
		</section><!-- End Content -->

		<footer id="footer-wrapper" class="ind-wrapper">
			<div class="ind-panel" id="filename-panel">
				<div class="ind-cell">
					<button id="newfolder-control" class="btn">New Folder</button>
					<button id="delete-control" class="btn" disabled>Delete</button>
				</div>

				<div class="ind-cell">
					<center>
						<input id="filename-control"></input>
						<span id="filter-controls"></span>
					</center>
				</div>
				<div class="ind-cell ind-control-panel-right">
					<button id="accept-control" class="btn primary">OK</button>
					<button id="cancel-control" class="btn primary">Cancel</button>
				</div>
			</div>

			<div class="ind-panel" id="status-panel">
				<div class="ind-cell" id="status-display">Current status</div>
			</div>
		</footer><!-- End Footer -->
		
	</div><!-- End Main Wrapper -->
</body>
<script type="text/javascript" src="js/indri.fsm.js"></script>
<script type="text/javascript" src="js/indri.content.renderer.base.js"></script>
<script type="text/javascript" src="js/indri.content.renderers.js"></script>
<script type="text/javascript" src="js/indri.location.renderers.js"></script>
<script type="text/javascript" src="js/indri.main.js"></script>

<script type="text/javascript">

$(document).ready(function() {
	var initializer = jQuery.extend(true, {}, FileBrowser.prototype.DefaultInitializer, {
		multiSelect : true,

		visibility : {
			newFolder : true,
			delete : true,
		},
	});

	initializer.filter.options.push({ value: "\.(htm|html)$", text: "HTML files (*.htm, *.html)"});
	initializer.filter.options.push({ value: "\.js$", text: "Javascript files (*.js)"});
	initializer.filter.options.push({ value: "\.(jpg|png)", text: "Image files (*.jpg, *.png)"});

	initializer.viewFactory.views.push(new IconContentRenderer());
	initializer.viewFactory.views.push(new DetailContentRenderer());

//	initializer.locationRenderer = new StringLocationRenderer();
	initializer.locationRenderer = new SegmentedLocationRenderer();
	//initializer.previewRenderer.baseUrl = 'http://civilbeat_production.s3.amazonaws.com/';

	var fileBrowser = new FileBrowser(jQuery("#browserui"), new FileSystemManager("http://localhost:1337/"), initializer);
});

</script>
</html>